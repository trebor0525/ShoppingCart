{"ast":null,"code":"import { getApiUrl } from \"./apiConfig\";\nimport axios from \"axios\";\nexport const addToCart = _ref => {\n  let {\n    amountToAdd,\n    productToAdd\n  } = _ref;\n  const addUrl = getApiUrl('shoppingList');\n  const userDetailUrl = getApiUrl('auth/details');\n  axios.get(userDetailUrl, {\n    withCredentials: true\n  }).then(userDetails => {\n    let cartObject = {\n      client: userDetails.data,\n      product: productToAdd,\n      amount: amountToAdd\n    };\n    axios.post(addUrl, cartObject, {\n      withCredentials: true\n    }).then(() => {\n      let number = parseInt(localStorage.getItem(\"number\")) + 1;\n      localStorage.setItem(\"number\", number.toString());\n      window.dispatchEvent(new Event('storage'));\n    });\n  });\n};\nexport const deleteShoppingItem = _ref2 => {\n  let {\n    itemId\n  } = _ref2;\n  const deleteUrl = getApiUrl(`shoppingList/clean/${itemId}`);\n  return axios.delete(deleteUrl, {\n    withCredentials: true\n  });\n};\nexport const getShoppingList = _ref3 => {\n  let {\n    setProductList\n  } = _ref3;\n  const listUrl = getApiUrl(\"shoppingList\");\n  axios.get(listUrl, {\n    withCredentials: true\n  }).then(response => {\n    setProductList(response.data);\n  });\n};\nexport const generateSale = () => {\n  const saleUrl = getApiUrl(`sale/create`);\n  return axios.post(saleUrl, null, {\n    withCredentials: true\n  });\n};\nexport const getSaleList = _ref4 => {\n  let {\n    setSalesList\n  } = _ref4;\n  const listUrl = getApiUrl(\"sale/client\");\n  axios.get(listUrl, {\n    withCredentials: true\n  }).then(response => {\n    setSalesList(response.data);\n  });\n};","map":{"version":3,"names":["getApiUrl","axios","addToCart","amountToAdd","productToAdd","addUrl","userDetailUrl","get","withCredentials","then","userDetails","cartObject","client","data","product","amount","post","number","parseInt","localStorage","getItem","setItem","toString","window","dispatchEvent","Event","deleteShoppingItem","itemId","deleteUrl","delete","getShoppingList","setProductList","listUrl","response","generateSale","saleUrl","getSaleList","setSalesList"],"sources":["C:/Users/TreborTI/IdeaProjects/ShoppingCartFront/src/services/shoppingCart.js"],"sourcesContent":["import { getApiUrl } from \"./apiConfig\"\r\nimport axios from \"axios\"\r\n\r\nexport const addToCart = ({ amountToAdd, productToAdd }) => {\r\n    const addUrl = getApiUrl('shoppingList')\r\n    const userDetailUrl = getApiUrl('auth/details')\r\n    axios.get(userDetailUrl, { withCredentials: true }).then(userDetails => {\r\n        let cartObject = {\r\n            client: userDetails.data,\r\n            product: productToAdd,\r\n            amount: amountToAdd\r\n        }\r\n        axios.post(addUrl, cartObject, { withCredentials: true }).then(() => {\r\n            let number = parseInt(localStorage.getItem(\"number\")) + 1\r\n            localStorage.setItem(\"number\", number.toString())\r\n            window.dispatchEvent(new Event('storage'))\r\n        })\r\n    })\r\n}\r\nexport const deleteShoppingItem = ({ itemId }) => {\r\n    const deleteUrl = getApiUrl(`shoppingList/clean/${itemId}`)\r\n    return axios.delete(deleteUrl, { withCredentials: true })\r\n}\r\nexport const getShoppingList = ({ setProductList }) => {\r\n    const listUrl = getApiUrl(\"shoppingList\")\r\n    axios.get(listUrl, { withCredentials: true }).then(response => {\r\n        setProductList(response.data)\r\n    })\r\n}\r\nexport const generateSale = () => {\r\n    const saleUrl = getApiUrl(`sale/create`)\r\n    return axios.post(saleUrl, null, { withCredentials: true})\r\n}\r\nexport const getSaleList = ({ setSalesList }) => {\r\n    const listUrl = getApiUrl(\"sale/client\")\r\n    axios.get(listUrl, { withCredentials: true }).then(response => {\r\n        setSalesList(response.data)\r\n    })\r\n}"],"mappings":"AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,SAAS,GAAG,QAAmC;EAAA,IAAlC;IAAEC,WAAF;IAAeC;EAAf,CAAkC;EACxD,MAAMC,MAAM,GAAGL,SAAS,CAAC,cAAD,CAAxB;EACA,MAAMM,aAAa,GAAGN,SAAS,CAAC,cAAD,CAA/B;EACAC,KAAK,CAACM,GAAN,CAAUD,aAAV,EAAyB;IAAEE,eAAe,EAAE;EAAnB,CAAzB,EAAoDC,IAApD,CAAyDC,WAAW,IAAI;IACpE,IAAIC,UAAU,GAAG;MACbC,MAAM,EAAEF,WAAW,CAACG,IADP;MAEbC,OAAO,EAAEV,YAFI;MAGbW,MAAM,EAAEZ;IAHK,CAAjB;IAKAF,KAAK,CAACe,IAAN,CAAWX,MAAX,EAAmBM,UAAnB,EAA+B;MAAEH,eAAe,EAAE;IAAnB,CAA/B,EAA0DC,IAA1D,CAA+D,MAAM;MACjE,IAAIQ,MAAM,GAAGC,QAAQ,CAACC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAR,GAA2C,CAAxD;MACAD,YAAY,CAACE,OAAb,CAAqB,QAArB,EAA+BJ,MAAM,CAACK,QAAP,EAA/B;MACAC,MAAM,CAACC,aAAP,CAAqB,IAAIC,KAAJ,CAAU,SAAV,CAArB;IACH,CAJD;EAKH,CAXD;AAYH,CAfM;AAgBP,OAAO,MAAMC,kBAAkB,GAAG,SAAgB;EAAA,IAAf;IAAEC;EAAF,CAAe;EAC9C,MAAMC,SAAS,GAAG5B,SAAS,CAAE,sBAAqB2B,MAAO,EAA9B,CAA3B;EACA,OAAO1B,KAAK,CAAC4B,MAAN,CAAaD,SAAb,EAAwB;IAAEpB,eAAe,EAAE;EAAnB,CAAxB,CAAP;AACH,CAHM;AAIP,OAAO,MAAMsB,eAAe,GAAG,SAAwB;EAAA,IAAvB;IAAEC;EAAF,CAAuB;EACnD,MAAMC,OAAO,GAAGhC,SAAS,CAAC,cAAD,CAAzB;EACAC,KAAK,CAACM,GAAN,CAAUyB,OAAV,EAAmB;IAAExB,eAAe,EAAE;EAAnB,CAAnB,EAA8CC,IAA9C,CAAmDwB,QAAQ,IAAI;IAC3DF,cAAc,CAACE,QAAQ,CAACpB,IAAV,CAAd;EACH,CAFD;AAGH,CALM;AAMP,OAAO,MAAMqB,YAAY,GAAG,MAAM;EAC9B,MAAMC,OAAO,GAAGnC,SAAS,CAAE,aAAF,CAAzB;EACA,OAAOC,KAAK,CAACe,IAAN,CAAWmB,OAAX,EAAoB,IAApB,EAA0B;IAAE3B,eAAe,EAAE;EAAnB,CAA1B,CAAP;AACH,CAHM;AAIP,OAAO,MAAM4B,WAAW,GAAG,SAAsB;EAAA,IAArB;IAAEC;EAAF,CAAqB;EAC7C,MAAML,OAAO,GAAGhC,SAAS,CAAC,aAAD,CAAzB;EACAC,KAAK,CAACM,GAAN,CAAUyB,OAAV,EAAmB;IAAExB,eAAe,EAAE;EAAnB,CAAnB,EAA8CC,IAA9C,CAAmDwB,QAAQ,IAAI;IAC3DI,YAAY,CAACJ,QAAQ,CAACpB,IAAV,CAAZ;EACH,CAFD;AAGH,CALM"},"metadata":{},"sourceType":"module"}